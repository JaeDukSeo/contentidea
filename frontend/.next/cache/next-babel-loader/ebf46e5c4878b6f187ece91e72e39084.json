{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\n// React \nimport React from 'react';\nimport ReactGA from 'react-ga'; // Next components\n\nimport Head from 'next/head';\nimport Main from 'next/document';\nimport Link from 'next/link'; // custome \n\nimport Sidebar from \"../components/Sidebar\";\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport Scripts from '../components/Scripts'; // library\n\nimport fetch from \"isomorphic-unfetch\";\n\nvar initGA = function initGA() {\n  console.log('GA init');\n  ReactGA.initialize('UA-130045033-3');\n};\n\nvar logPageView = function logPageView() {\n  console.log(\"Logging pageview for \".concat(window.location.pathname));\n  ReactGA.set({\n    page: window.location.pathname\n  });\n  ReactGA.pageview(window.location.pathname);\n};\n\nvar logEvent = function logEvent() {\n  var category = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  if (category && action) {\n    ReactGA.event({\n      category: category,\n      action: action\n    });\n  }\n};\n\nvar logException = function logException() {\n  var description = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var fatal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (description) {\n    ReactGA.exception({\n      description: description,\n      fatal: fatal\n    });\n  }\n};\n\nvar Home =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      daily: props.daily,\n      dailyUpdated: Date(),\n      realtime: props.realtime,\n      realtimeUpdated: Date()\n    };\n    _this.loadDaily_Realtime_Data = _this.loadDaily_Realtime_Data.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!window.GA_INITIALIZED) {\n        initGA();\n        window.GA_INITIALIZED = true;\n      }\n\n      logPageView();\n      setInterval(this.loadDaily_Realtime_Data, 3000);\n    }\n  }, {\n    key: \"loadDaily_Realtime_Data\",\n    value: function () {\n      var _loadDaily_Realtime_Data = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res_daily, res_realtime;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(\"/api/daily\");\n\n              case 3:\n                res_daily = _context.sent;\n                _context.next = 6;\n                return fetch(\"/api/realtime\");\n\n              case 6:\n                res_realtime = _context.sent;\n                _context.t0 = this;\n                _context.next = 10;\n                return res_daily.json();\n\n              case 10:\n                _context.t1 = _context.sent;\n                _context.t2 = Date();\n                _context.next = 14;\n                return res_realtime.json();\n\n              case 14:\n                _context.t3 = _context.sent;\n                _context.t4 = Date();\n                _context.t5 = {\n                  daily: _context.t1,\n                  dailyUpdated: _context.t2,\n                  realtime: _context.t3,\n                  realtimeUpdated: _context.t4\n                };\n\n                _context.t0.setState.call(_context.t0, _context.t5);\n\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t6 = _context[\"catch\"](0);\n                console.error(_context.t6);\n\n              case 23:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 20]]);\n      }));\n\n      function loadDaily_Realtime_Data() {\n        return _loadDaily_Realtime_Data.apply(this, arguments);\n      }\n\n      return loadDaily_Realtime_Data;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", null, __jsx(Head, null, __jsx(\"title\", null, \"Content Ideas - Ideas\"), __jsx(\"meta\", {\n        charSet: \"utf-8\"\n      }), __jsx(\"meta\", {\n        httpEquiv: \"X-UA-Compatible\",\n        content: \"IE=edge\"\n      }), __jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1, shrink-to-fit=no\"\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"Wondering what kind of content to make on YouTube? Instagram? spotify? or any platform? This website is for you!  See what kind of ideas are trending now, helping you go virial!\"\n      }), __jsx(\"meta\", {\n        name: \"author\",\n        content: \"\"\n      }), __jsx(\"link\", {\n        href: \"vendor/fontawesome-free/css/all.min.css\",\n        rel: \"stylesheet\",\n        type: \"text/css\"\n      }), __jsx(\"link\", {\n        href: \"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i\",\n        rel: \"stylesheet\"\n      }), __jsx(\"link\", {\n        href: \"css/sb-admin-2.min.css\",\n        rel: \"stylesheet\"\n      }), __jsx(\"link\", {\n        rel: \"shortcut icon\",\n        type: \"image/png\",\n        href: \"idea.png\"\n      })), __jsx(\"div\", {\n        id: \"page-top\"\n      }, __jsx(\"div\", {\n        id: \"wrapper\"\n      }, __jsx(Sidebar, null), __jsx(\"div\", {\n        id: \"content-wrapper\",\n        className: \"d-flex flex-column\"\n      }, __jsx(\"div\", {\n        id: \"content\"\n      }, __jsx(Nav, null), __jsx(\"div\", {\n        className: \"container-fluid\"\n      }, __jsx(\"div\", {\n        className: \"d-sm-flex align-items-center justify-content-between mb-4\"\n      }, __jsx(\"h1\", {\n        className: \"h3 mb-0 text-gray-800\"\n      }, \"Dashboard\"), __jsx(\"a\", {\n        href: \"#\",\n        className: \"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\"\n      }, __jsx(\"i\", {\n        className: \"fas fa-download fa-sm text-white-50\"\n      }), \" Generate Report\")), __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-lg-6\"\n      }, __jsx(\"div\", {\n        className: \"card shadow mb-4\"\n      }, __jsx(\"a\", {\n        href: \"#collapseCardExample1\",\n        className: \"d-block card-header py-3\",\n        \"data-toggle\": \"collapse\",\n        role: \"button\",\n        \"aria-expanded\": \"true\",\n        \"aria-controls\": \"collapseCardExample\"\n      }, __jsx(\"h6\", {\n        className: \"m-0 font-weight-bold text-primary\"\n      }, \"Daily Trends \", __jsx(\"p\", {\n        className: \"text-xs\"\n      }, \"Last Updated: \", this.state.dailyUpdated, \" \"))), __jsx(\"div\", {\n        className: \"collapse show\",\n        id: \"collapseCardExample1\"\n      }, __jsx(\"div\", {\n        className: \"card-body\"\n      }, __jsx(\"ul\", {\n        className: \"list-group\"\n      }, this.state.daily.daily.map(function (data) {\n        return __jsx(\"li\", {\n          className: \"list-group-item\",\n          key: data\n        }, data, \" \", __jsx(\"span\", {\n          className: \"badge\"\n        }));\n      })))))), __jsx(\"div\", {\n        className: \"col-lg-6\"\n      }, __jsx(\"div\", {\n        className: \"card shadow mb-4\"\n      }, __jsx(\"a\", {\n        href: \"#collapseCardExample2\",\n        className: \"d-block card-header py-3\",\n        \"data-toggle\": \"collapse\",\n        role: \"button\",\n        \"aria-expanded\": \"true\",\n        \"aria-controls\": \"collapseCardExample\"\n      }, __jsx(\"h6\", {\n        className: \"m-0 font-weight-bold text-primary\"\n      }, \"Real Time Trends \", __jsx(\"p\", {\n        className: \"text-xs\"\n      }, \"Last Updated: \", this.state.realtimeUpdated, \"   \"))), __jsx(\"div\", {\n        className: \"collapse show\",\n        id: \"collapseCardExample2\"\n      }, __jsx(\"div\", {\n        className: \"card-body\"\n      }, __jsx(\"ul\", {\n        className: \"list-group\"\n      }, this.state.realtime.realtime.map(function (data) {\n        return __jsx(\"li\", {\n          className: \"list-group-item\",\n          key: data\n        }, data, \" \", __jsx(\"span\", {\n          className: \"badge\"\n        }));\n      }))))))))), __jsx(Footer, null))), __jsx(Scripts, null)));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport { Home as default };\n\nHome.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(_ref) {\n    var req, baseURL, res_daily, res_realtime;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            req = _ref.req;\n            baseURL = req ? \"\".concat(req.protocol, \"://\").concat(req.get(\"Host\")) : \"\";\n            _context2.next = 4;\n            return fetch(\"\".concat(baseURL, \"/api/daily\"));\n\n          case 4:\n            res_daily = _context2.sent;\n            _context2.next = 7;\n            return fetch(\"\".concat(baseURL, \"/api/realtime\"));\n\n          case 7:\n            res_realtime = _context2.sent;\n            _context2.next = 10;\n            return res_daily.json();\n\n          case 10:\n            _context2.t0 = _context2.sent;\n            _context2.next = 13;\n            return res_realtime.json();\n\n          case 13:\n            _context2.t1 = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              daily: _context2.t0,\n              realtime: _context2.t1\n            });\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module"}