{"ast":null,"code":"var __jsx = React.createElement;\n// React \nimport React from 'react';\nimport ReactGA from 'react-ga'; // Next components\n\nimport Head from 'next/head';\nimport Main from 'next/document';\nimport Link from 'next/link'; // custome \n\nimport Sidebar from \"../components/Sidebar\";\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport Scripts from '../components/Scripts'; // library\n\nimport fetch from \"isomorphic-unfetch\";\n\nconst initGA = () => {\n  console.log('GA init');\n  ReactGA.initialize('UA-130045033-3');\n};\n\nconst logPageView = () => {\n  console.log(`Logging pageview for ${window.location.pathname}`);\n  ReactGA.set({\n    page: window.location.pathname\n  });\n  ReactGA.pageview(window.location.pathname);\n};\n\nconst logEvent = (category = '', action = '') => {\n  if (category && action) {\n    ReactGA.event({\n      category,\n      action\n    });\n  }\n};\n\nconst logException = (description = '', fatal = false) => {\n  if (description) {\n    ReactGA.exception({\n      description,\n      fatal\n    });\n  }\n};\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      daily: props.daily,\n      dailyUpdated: Date(),\n      realtime: props.realtime,\n      realtimeUpdated: Date()\n    };\n    this.loadDaily_Realtime_Data = this.loadDaily_Realtime_Data.bind(this);\n  }\n\n  componentDidMount() {\n    if (!window.GA_INITIALIZED) {\n      initGA();\n      window.GA_INITIALIZED = true;\n    }\n\n    logPageView();\n    setInterval(this.loadDaily_Realtime_Data, 3000);\n  }\n\n  async loadDaily_Realtime_Data() {\n    try {\n      const res_daily = await fetch(`/api/daily`);\n      const res_realtime = await fetch(`/api/realtime`);\n      this.setState({\n        daily: await res_daily.json(),\n        dailyUpdated: Date(),\n        realtime: await res_realtime.json(),\n        realtimeUpdated: Date()\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(Head, null, __jsx(\"title\", null, \"Content Ideas - Ideas\"), __jsx(\"meta\", {\n      charSet: \"utf-8\"\n    }), __jsx(\"meta\", {\n      httpEquiv: \"X-UA-Compatible\",\n      content: \"IE=edge\"\n    }), __jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1, shrink-to-fit=no\"\n    }), __jsx(\"meta\", {\n      name: \"description\",\n      content: \"Wondering what kind of content to make on YouTube? Instagram? spotify? or any platform? This website is for you!  See what kind of ideas are trending now, helping you go virial!\"\n    }), __jsx(\"meta\", {\n      name: \"author\",\n      content: \"\"\n    }), __jsx(\"link\", {\n      href: \"vendor/fontawesome-free/css/all.min.css\",\n      rel: \"stylesheet\",\n      type: \"text/css\"\n    }), __jsx(\"link\", {\n      href: \"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i\",\n      rel: \"stylesheet\"\n    }), __jsx(\"link\", {\n      href: \"css/sb-admin-2.min.css\",\n      rel: \"stylesheet\"\n    }), __jsx(\"link\", {\n      rel: \"shortcut icon\",\n      type: \"image/png\",\n      href: \"idea.png\"\n    })), __jsx(\"div\", {\n      id: \"page-top\"\n    }, __jsx(\"div\", {\n      id: \"wrapper\"\n    }, __jsx(Sidebar, null), __jsx(\"div\", {\n      id: \"content-wrapper\",\n      className: \"d-flex flex-column\"\n    }, __jsx(\"div\", {\n      id: \"content\"\n    }, __jsx(Nav, null), __jsx(\"div\", {\n      className: \"container-fluid\"\n    }, __jsx(\"div\", {\n      className: \"d-sm-flex align-items-center justify-content-between mb-4\"\n    }, __jsx(\"h1\", {\n      className: \"h3 mb-0 text-gray-800\"\n    }, \"Dashboard\"), __jsx(\"a\", {\n      href: \"#\",\n      className: \"d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm\"\n    }, __jsx(\"i\", {\n      className: \"fas fa-download fa-sm text-white-50\"\n    }), \" Generate Report\")), __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-6\"\n    }, __jsx(\"div\", {\n      className: \"card shadow mb-4\"\n    }, __jsx(\"a\", {\n      href: \"#collapseCardExample1\",\n      className: \"d-block card-header py-3\",\n      \"data-toggle\": \"collapse\",\n      role: \"button\",\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": \"collapseCardExample\"\n    }, __jsx(\"h6\", {\n      className: \"m-0 font-weight-bold text-primary\"\n    }, \"Daily Trends \", __jsx(\"p\", {\n      className: \"text-xs\"\n    }, \"Last Updated: \", this.state.dailyUpdated, \" \"))), __jsx(\"div\", {\n      className: \"collapse show\",\n      id: \"collapseCardExample1\"\n    }, __jsx(\"div\", {\n      className: \"card-body\"\n    }, __jsx(\"ul\", {\n      className: \"list-group\"\n    }, this.state.daily.daily.map(function (data) {\n      return __jsx(\"li\", {\n        className: \"list-group-item\",\n        key: data\n      }, data, \" \", __jsx(\"span\", {\n        className: \"badge\"\n      }));\n    })))))), __jsx(\"div\", {\n      className: \"col-lg-6\"\n    }, __jsx(\"div\", {\n      className: \"card shadow mb-4\"\n    }, __jsx(\"a\", {\n      href: \"#collapseCardExample2\",\n      className: \"d-block card-header py-3\",\n      \"data-toggle\": \"collapse\",\n      role: \"button\",\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": \"collapseCardExample\"\n    }, __jsx(\"h6\", {\n      className: \"m-0 font-weight-bold text-primary\"\n    }, \"Real Time Trends \", __jsx(\"p\", {\n      className: \"text-xs\"\n    }, \"Last Updated: \", this.state.realtimeUpdated, \"   \"))), __jsx(\"div\", {\n      className: \"collapse show\",\n      id: \"collapseCardExample2\"\n    }, __jsx(\"div\", {\n      className: \"card-body\"\n    }, __jsx(\"ul\", {\n      className: \"list-group\"\n    }, this.state.realtime.realtime.map(function (data) {\n      return __jsx(\"li\", {\n        className: \"list-group-item\",\n        key: data\n      }, data, \" \", __jsx(\"span\", {\n        className: \"badge\"\n      }));\n    }))))))))), __jsx(Footer, null))), __jsx(Scripts, null)));\n  }\n\n}\n\nHome.getInitialProps = async ({\n  req\n}) => {\n  const baseURL = req ? `${req.protocol}://${req.get(\"Host\")}` : \"\";\n  const res_daily = await fetch(`${baseURL}/api/daily`);\n  const res_realtime = await fetch(`${baseURL}/api/realtime`);\n  return {\n    daily: await res_daily.json(),\n    realtime: await res_realtime.json()\n  };\n};","map":null,"metadata":{},"sourceType":"module"}